model test_plasticity_dynamics_synapse:
    state:
        w real = 1.0
        tb ms = 0 ms

    parameters:
        d ms = 1.0 ms
        stdp_speed real = 0.01

    input:
        pre_spikes <- spike
        post_spikes <- spike

    output:
        spike

    onReceive(post_spikes):
        if tb < t and t <= (tb + 1*ms):
            w += stdp_speed

    onReceive(pre_spikes):
        tb = t
        emit_spike(w, d)





